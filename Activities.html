<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <title>Activity Page</title>

    <style> @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans:wght@500&display=swap'); </style>
    
    <script type="text/javascript">
        function preventBack() { window.history.forward(); }
        setTimeout("preventBack()", 0);
        window.onunload = function () { null };
    </script>
    
</head>

<style>

@import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400&display=swap');

    .titleBar {
        position: relative;
        width: 100%;
        height: 20%;
        display: inline-block;
        
    }
    .titleBar.Column {
        float: left;
        width: 33.3333333333%;
        height: 100%;
        display: flex;
        
    }

    .titleBar.Column img {
        margin: 15px;
    }

    .titleBar.Column h3 {
        margin-top: 134px;
        margin-bottom: 0;
        font-family: 'Roboto Slab', serif;
        font-weight: 400;
        /* font-size: 35px; */
    }

    .section {
        height: 1000px;
        width: 100%;
        background: radial-gradient(#ffcd37ad, #ff470494);
        position: relative;
        
    }

    .section_box {
        width: 85%;
        height: 85%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        background: #fff6d8;
        border-radius: 10px;
        box-shadow: 1px 4px 22px -8px #0004;
        display: inline-block;
        overflow: hidden;
    }

    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
    }
    
    .topnav {
      overflow: hidden;
      background-color: #fee79e;
      display: flex;
      justify-content: space-around;
      border-top-right-radius: 15px ;
      border-top-left-radius: 15px ;
    }
    
    .topnav a {
      float: left;
      color: #000000;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
      font-family: 'Open Sans', sans-serif;
      font-weight: 500;
      
    }
    
    .topnav a:hover {
      background-color: #e9c562;
      color: black;
      border-top-right-radius: 15px ;
      border-top-left-radius: 15px ;
      
    }
    
    .topnav a.active {
      background-color: #fff6d8;
      color: rgb(0, 0, 0);
      border-top-right-radius: 15px ;
      border-top-left-radius: 15px ;
    }

    .content {
        display: flex;
        justify-content: center;
        width: 100%;
        height: 80%;
    }

    .content div {
        display: none;
    }

    .content div.active {
        display: block;
        width: 100%;
        height: 550px;
        /* overflow: auto;  */
        
        
    }
    
    main {
        block-size: 100px;
        display: flex;
        justify-content: center;
        /* margin-top: 60px; */
    }

    main div {
        display: none;
    }

    main div h1 {
        margin-top: 120px;
        margin-bottom: 0;
        font-family: 'Fredoka One', cursive;
        font-weight: 500;
        font-size: 35px;
    }

    .active {
        display: block;
    }

    .profLogo {
        width: 150px;
        height: 150px;
        display: flex;
        border-radius: 100px;
    }

    /* CSS for table  */

    .outer-wrapper {
        margin: 10px;
        margin-top: 30px;
        margin-left: 40px;
        margin-right: 20px;
        border: 0;
        border-radius: 4px;
        max-width: fit-content;
        max-height: 550px;

        
    }
    .table-wrapper {
        
        overflow-y: scroll;
        overflow-x: scroll;
        height: fit-content;
        max-height: 570px;

        margin-top: 22px;

        margin: 15px;
        padding-bottom: 20px;

    }

    .table-wrapper::-webkit-scrollbar {
        display: none;
    }

    table {
    
        min-width: 1500px;
        
        border-collapse: separate;
        border-spacing: 0px;    
    
    }

    table th{
        position: sticky; 
        top: 0px;
        
        width: 250px;
        background-color: #d5394a;
        color: #eee;
        
        text-align: center;
        font-weight: 600px;
        font-size: 15px;
        font-family: 'Open Sans', sans-serif;

        outline: 1px #e9d7b7 solid;
        border: 1.5px #e9d7b7 solid;
        
    } 

    .thleftcorner {
        border-top-left-radius: 10px;
    }

    .thrightcorner {
        border-top-right-radius: 10px;
    }

    table th, table td {
        
        padding: 15px;
        padding-top: 10px;
        padding-bottom: 10px;
        
    }
    
    table td {
        text-align: center;
        
        font-size: 15px;
        border: 1px solid rgb(177, 177, 177);
        padding-left: 20px;
        background-color: #eee;
    }

    
    /* CSS for searchbar */
    .search-bar {
        margin-top: 3%;
        margin-left: 50px;
        margin-right: 50px;
        width: 90%;
        display: inline-block;
    }
    .search-bar.search {
        float: left;
        width: 50%;
        height: 100%;
        margin: 0;
        display: flex;
    }
    .search_input {
        padding: 10px;
        width: 300px;
        color: #000000;
        font-size: 14px;
        border: 0;
        border-radius: 10px;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .search_btn-submit{
        position: relative;
        padding: 10px;
        color: #eee;
        font-size: 13px;
        background-color: #d5394a;
        border: 0;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        z-index: 1;
        transition: background-color 200ms ease-out;
        font-family: 'Open Sans', sans-serif;
        border-radius: 10px;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;

    }
    .search_btn-submit:hover {
        background-color: #f82f21;
        color: rgb(255, 255, 255);
    }

    /* CSS for dropdown button */

    .dropdown {
        padding: 10px;
        width: 200px;
        color: #2b2a2a;
        font-size: 14px;
        border: 0;
        border-radius: 10px;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    /* CSS for active column buttons */

    .editBtn {
        padding: 10px;
        background-color: #4f79c7;
        border: 0;
        color: #eee;
        letter-spacing: 1px;
        font-family: 'Open Sans', sans-serif;
        border-radius: 5px;
        transition: background-color 200ms ease-out;
    }

    .editBtn:hover {
        background-color: #2f4b80;
        color: rgb(255, 255, 255);
    }

    .deleteBtn {
        padding: 10px;
        background-color: #fd6459;
        border: 0;
        color: #eee;
        letter-spacing: 1px;
        font-family: 'Open Sans', sans-serif;
        border-radius: 5px;
        transition: background-color 200ms ease-out;
    }

    .deleteBtn:hover {
        background-color: #f82f21;
        color: rgb(255, 255, 255);
    }

    /* CSS for modal */

    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 2; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        animation: fadein .3s;
    }
    
    @keyframes fadein {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 50%; /* Could be more or less, depending on screen size */
    }
    
    /* The Close Button */
    .close {
        display: flex;
        color: #aaa;
        font-size: 28px;
        font-weight: bold;
        justify-content: right;
    }
    
    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
        
    }

    .labs {
        display: inline-block;
        width: 20%;
        font-family: 'Open Sans', sans-serif;
    }

    /* css for profile inputs */
    .prof_input {
        padding: 10px;
        width: 250px;
        color: #000000;
        font-size: 14px;
        border: solid #c7c7c7 1px;
        border-radius: 10px;
        
    }

    .prof_label {
        padding: 10px;
        width: 250px;
        color: #000000;
        font-size: 14px;
        border: solid #c7c7c7 1px;
        border-radius: 10px;
    }
    </style>
    </head>
    
    <body>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/23f4928225.js" crossorigin="anonymous"></script>
        
        <div class="section">
        <div class="section_box">
            <div class="titleBar">
                <div class="titleBar Column">
                    <img style="border-style: ridge;" id="profilePicMain" src="https://firebasestorage.googleapis.com/v0/b/hi-breed-ca22b.appspot.com/o/websiteImages%2FprofileLogo.png?alt=media&token=7bae95cb-bf5a-4967-8c12-7efa0b4a4eff" alt="" class="profLogo">

                    <h3>Welcome, <p style="display:inline-flex" id="adminName"></p>  
                    </h3>
                    <a style="margin-top: 146px; margin-left: 5px; color: #f82f21" href="C:\Users\noeco\OneDrive\Desktop\HiBreed\HiBreed-WEBSITE\login.html">
                        <!-- <i class="fa-solid fa-arrow-right-from-bracket"></i>-->
                        <p style="font-size: smaller;">Logout</p>
                    </a>
                </div>
                <div class="titleBar Column" style="justify-content: center;" >
                    <main>
                        <div class="active">
                        
                            <h1>
                                HOMEPAGE
                            </h1>
                        
                        </div>
                        <!-- <div>
                        
                            <h1>
                                ACTIVITY PAGE
                            </h1>
                        
                        </div> -->
                        <div>
                        
                            <h1>
                                USERS PAGE
                            </h1>
                        
                        </div>
                        <div>
                        
                            <h1>
                                TRANSACTIONS PAGE
                            </h1>
                        
                        </div>
                        <div>
                        
                            <h1>
                                SHOPS PAGE
                            </h1>
                        
                        </div>
                        <div>
                        
                            <h1>
                                PETS PAGE
                            </h1>
                        
                        </div>
                        <div>
                        
                            <h1>
                                QUESTIONS PAGE
                            </h1>
                        </div>

                        <div>
                            <h1>
                                PROFILE PAGE
                            </h1>
     
                        </div>

                        <div>
                            <h1>
                                SYSTEM PAGE
                            </h1>
     
                        </div>
                    </main>
                </div>
                <div class="titleBar Column" style="justify-content:right;" >
                    <img src="https://firebasestorage.googleapis.com/v0/b/hi-breed-ca22b.appspot.com/o/websiteImages%2FLOGO.png?alt=media&token=89f51ad3-7e0d-4b53-8d5b-3840f078cd6f" style="width: 400px; height: 180px; margin: 0px; display: flex; object-fit: cover; ">
                </div>
            </div>

            <div class="topnav">
                <!-- <nav class="navContent"> -->
                <!-- <ul class="ulContent">
                    <li> -->
                        <a class="active" data-id="1">HOMEPAGE</a>
                    
                        <a data-id="2">USERS</a>
                    
                        <a data-id="3">TRANSACTIONS</a>
                    
                        <a data-id="4">SHOPS</a>

                        <a data-id="5">PETS</a>

                        <a data-id="6">QUESTIONS</a>
                    
                        <a data-id="7">PROFILE</a>

                        <a data-id="8">REGISTRATION</a>
                    <!-- </li>
                </ul> -->
                <!-- </nav> -->
            </div>

            <!-- Modal for USERS tab-->

            <div id="myModal" class="modal">
                <div class="modal-content">
                    <div id = 'user-span'>
                        <span class="close">&times;</span>
                    </div>
                  <h4 style="font-family: 'Open Sans', sans-serif;">User's Information: </h4>
                  <hr style="border: solid 1px #e2dfdf; margin: 0;">
                    <div class="modal-body">
                       <label class="labs">ID No: </label>
                       <br>
                       <label id="idNoLabel" class="prof_label"></label>
                       <br>
                       <label class="labs" style="width: 50%">First Name: </label>
                       <label class="labs">Middle Name: </label>
                       <br>
                       <label id="firstNameLabel" class="prof_label"style="width: 50%"></label>
                       <label id="middleNameLabel" class="prof_label"style="width: 49%"></label>
                       <br>
                       <label class="labs">Last Name: </label>
                       <br>
                       <label id="lastNameLabel" class="prof_label"style="width: 100%"></label>
                       <br>
                       <label class="labs" style="width:50%">Gender: </label>
                       <label class="labs">Birthdate: </label>
                       <br>
                       <label id="genderLabel" class="prof_label" style="width: 30%; margin-right: 20%;"></label>
                       <label id="birthdayLabel" class="prof_label"style="width: 30%"></label>
                       <br>
                       <label class="labs">role: </label>
                       <br>
                       <label id="roleLabel" class="prof_label" style="font-family: 'Open Sans', sans-serif; width: 100%;"></label>
                       <br>
                       <label id="validIdLabel" class="labs" style="width: 50%; display: none" >Valid ID Photo: </label>
                       <label id="parentConcentLabel" class="labs" style="display: none">Parent's Concent: </label>
                       <br>
                       <img id="validIdImg" src="" alt="" style="border-radius: 5px; width: 250px; height: 180px; border-style: ridge; margin-right: 110px;display: none" >
                       <img id="parentConcentImg" src="" alt="" style="border-radius: 5px; width: 250px; height: 180px; border-style: ridge;display: none" >
                       <hr>
                       <label class="labs">status: </label>

                       <select name="status" id="statusInput" class="prof_label">
                            <option value="pending">pending</option>
                            <option value="verified">verified</option>
                            <option value="suspended">suspended</option>
                        </select>
                    
                       <table id="userTableModal">
                        <thead>
                                
                        </thead>
                        <tbody id="userTableModalBody"></tbody>
                       </table>

                    </div>
                    <div class="modal-footer">
                        <button id="closeModalBtn" type="button" class="btn btn-secondary" style="font-family: 'Open Sans', sans-serif;">Close</button>
                        <button id="saveModalBtn" type="button" class="btn btn-primary" style="font-family: 'Open Sans', sans-serif;">Save changes</button>
                    </div>
                </div>
              </div>

            <!-- modal for SHOP page -->

            <div id="shopModal" class="modal">
              <div class="modal-content">
                  <div id="shop-span">
                  <span class="close">&times;</span>
                  </div>
                <h4 style="font-family: 'Open Sans', sans-serif;">Owner's Information: </h4>
                <hr style="border: solid 1px #e2dfdf; margin: 0;">
                  <div class="modal-body">
                     <label class="labs">ID No: </label>
                     <label id="shopIdNoLabel" class="prof_label"></label>
                     <br>
                     <label class="labs">First Name: </label>
                     <label id="shopFirstNameLabel" class="prof_label"></label>
                     <br>
                     <label class="labs">Middle Name: </label>
                     <label id="shopMiddleNameLabel" class="prof_label" ></label>
                     <br>
                     <label class="labs">Last Name: </label>
                     <label id="shopLastNameLabel" class="prof_label"></label>
                     <br>
                     <label class="labs">Gender: </label>
                     <label id="shopGenderLabel" class="prof_label"></label>
                     <br>
                     <label class="labs">Birthdate: </label>
                     <label id="shopBirthdayLabel" class="prof_label"></label>
                     <br>
                     <label class="labs">role: </label>
                     <label id="shopRoleLabel" style="font-family: 'Open Sans', sans-serif;" class="prof_label"></label>
                     <br>
                     <label class="labs">status: </label>
                     <label id="shopStatusLabel" class="prof_label"></label>
                     <hr>
                     <label class="labs" style="width: 50%">Pets for Sale: </label>
                     <label class="labs">Service Offered: </label>
                     <br>
                     <label id="petsForSaleLabel" class="labs" style="width: 50%"></label>
                     <label id="serviceOfferedLabel" class="labs" style="width: 30%"></label>
                  </div>
                  <div class="modal-footer">
                      <button id="shopCloseModalBtn" type="button" class="btn btn-secondary" style="font-family: 'Open Sans', sans-serif;">Close</button>
                  </div>
              </div>
            </div>

            <!-- modal for PETS page -->

            <div id="petDetailsModal" class="modal">
                <div class="modal-content" style="width: 1000px">
                    <div id="petDetails-span">
                    <span class="close">&times;</span>
                    </div>
                  <h4 style="font-family: 'Open Sans', sans-serif;">Pet's Information: </h4>
                  <hr style="border: solid 1px #e2dfdf; margin: 0;">
                    <div class="modal-body">
                        <img id="petImage" src="" style="width: 200px; height: 200px; border-radius: 5px;">
                        <br>
                    <hr style="border: 1px dashed gainsboro">
                       <label class="labs" style="width:8%">ID No: </label>
                       <label id="petDetailsIdLabel" class="prof_label" style="width: 30%"></label>
                       <br>
                       <label class="labs" style="width: 50%; margin-top: 5px; margin-right: 3px">Pet Name: </label>
                       <label class="labs">Pet Breed: </label>
                       <br>
                       <label id="petDetailsNameLabel" class="prof_label" style="width: 50%; margin-top: 5px; margin-right: 3px;"></label>
                       <label id="petDetailsBreedLabel" class="prof_label" style="width: 49%; margin-top: 5px;" ></label>
                       <br>
                       <label class="labs" style="width: 50%; margin-top: 5px">Pet Description: </label>
                       <br>
                       <label id="petDetailsDescLabel" class="prof_label" style="width: 100%; margin-top: 5px;" ></label>
                       <br>
                       <label class="labs" style="width: 50%; margin-top: 5px">Pet Markings: </label>
                       <label class="labs">Pet Gender: </label>
                       <br>
                       <label id="petDetailsMarkingsLabel" class="prof_label" style="width: 30%; margin-top: 5px; margin-right: 20%;" ></label>
                       <label id="petDetailsGenderLabel" class="prof_label" style="width: 30%; margin-top: 5px;" ></label>
                       <br>
                       <label class="labs" style="width: 50%; margin-top: 5px">Pet Size: </label>
                       <label class="labs">Pet Weight(Kg): </label>
                       <br>
                       <label id="petDetailsSizeLabel" class="prof_label" style="width: 30%; margin-top: 5px; margin-right: 20%;"></label>
                       <label id="petDetailsWeightLabel" class="prof_label" style="width: 30%; margin-top: 5px;" ></label>
                       <br>
                       <label class="labs" style="width: 50%; margin-top: 5px">Birthdate: </label>
                       <label class="labs">Pet Vaccine: </label>
                       <br>
                       <label id="petDetailsBirthdateLabel" class="prof_label" style="width: 30%; margin-top: 5px; margin-right: 20%;"></label>
                       <label id="petDetailsVaccineLabel" class="prof_label" style="width: 30%; margin-top: 5px;"></label>
                       <br>
                       <label class="labs">Pet Price: </label>
                       <br>
                       <label id="petDetailsPriceLabel" class="prof_label" style="width: 30%; margin-top: 5px;"></label>
                       <br>
                    </div>
                    <div class="modal-footer">
                        <button id="petDetailsCloseModalBtn" type="button" class="btn btn-secondary" style="font-family: 'Open Sans', sans-serif;">Close</button>
                    </div>
                </div>
              </div>

            <!-- modal for TRANSACTION page -->

            <div id="transactionModal" class="modal">
                <div class="modal-content">
                    <div id="transaction-span">
                    <span class="close">&times;</span>
                    </div>
                  <h4 style="font-family: 'Open Sans', sans-serif;">Transaction Details: </h4>
                  <hr style="border: solid 1px gainsboro; margin: 0;">
                    <div class="modal-body">
                       <label class="labs" style="width: 50%">Transaction Ref No: </label>
                       <label class="labs">Appointment ID: </label>
                       <br>
                       <label id="transactionRefLabel" class="prof_label" style="margin-right: 15%;"></label>
                       <label id="appointmentIdLabel" class="prof_label"></label>
                       <br>
                       <label class="labs">Actor: </label>
                       <br>
                       <label id="TransActorLabel" class="prof_label" style="width: 100%" ></label>
                       <br>
                       <hr style="border: 1px dashed gainsboro">
                       <label class="labs">Date Created: </label>
                       <label id="transDateCreated" class="prof_label" style="width: 20%;"></label>
                       <br>
                       <label class="labs">Total Amount: </label>
                       <label id="transTotalAmount" class="prof_label"></label>
                       <br>
                       <label class="labs">Transaction Type: </label>
                       <label id="transType" class="prof_label"></label>
                       <br>
                       <label class="labs">status: </label>
                       <label id="transStatus" class="prof_label" style="width: 20%;"></label>
                    
                       <table id="">
                        <thead>
                                
                        </thead>
                        <tbody id=""></tbody>
                       </table>
                    </div>
                    <div class="modal-footer">
                        <button id="transactionCloseBtn" type="button" class="btn btn-secondary" style="font-family: 'Open Sans', sans-serif;">Close</button>
                    </div>
                </div>
              </div>            

            <!-- modal for QUESTION page -->

            <div id="questionModal" class="modal">
                <div class="modal-content">
                    <div id="question-span">
                    <span class="close">&times;</span>
                    </div>
                  <h4 style="font-family: 'Open Sans', sans-serif;">Question Details: </h4>
                  <hr style="border: solid 1px #e2dfdf; margin: 0;">
                    <div class="modal-body">
                       <label class="labs">Question Title: </label>
                       <br>
                       <label id="questionTitleLabel" class="prof_label" style="width:100%"></label>
                       <br>
                       <label class="labs">Description: </label>
                       <br>
                       <textarea id="descLabel" class="labs" style="width: 100%; border-radius: 10px;" disabled></textarea>
                       <br>
                       <label class="labs">Date Posted: </label>
                       <label id="datePostedLabel" class="prof_label" style="width: 30%"></label>
                       <br>
                       <label class="labs">Author: </label>
                       <label id="authorLabel" class="prof_label" style="width: 30%"></label>
                       <br>
                       <label class="labs">Answered By: </label>
                       <label id="answeredByLabel" class="prof_label" style="width: 50%"></label>
                       <br>
                       <label class="labs">Date Answered: </label>
                       <label id="dateAnsweredLabel" class="prof_label" style="width: 30%"></label>
                    
                       <table id="">
                        <thead>
                                
                        </thead>
                        <tbody id=""></tbody>
                       </table>
                    </div>
                    <div class="modal-footer">
                        <button id="questionCloseBtn" type="button" class="btn btn-secondary" style="font-family: 'Open Sans', sans-serif;">Close</button>
                    </div>
                </div>
              </div>            


            <div class="content">

                <!-- DASHBOARD -->
                <div class="active" style=" height: 700px; background-image: url(https://firebasestorage.googleapis.com/v0/b/hi-breed-ca22b.appspot.com/o/websiteImages%2Fbg.jpg?alt=media&token=152caee9-67d9-46ca-9cb7-5fc4d0440403); background-size: 1617.55px 700px ;">
        
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <!-- <H1>WELCOME TO HI-BREED ADMIN SYSTEM</H1> -->
                            <!-- <table id="activityTable">
                                <thead>
                                    <th class ="thleftcorner">ACTOR</th>
                                    <th>ACTIVITY</th>
                                    <th>DATE</th>
                                    <th class ="thrightcorner">ACTION</th>
                                </thead>
                                <tbody id="tbody1"></tbody>
                            </table> -->
                        </section>
                    </section>
                </div>

                <div>
                    <!-- <h1>
                        USERS PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="margin-bottom: 30px;" class="search-bar search">
                                <input id="searchUser" class="search_input" type="search" name="search" maxlength="100" placeholder="Search" required />
                                <button id="searchUserBtn" class="search_btn-submit" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
                            </section>
                            <table id="userTable" style="width: 1500px; text-align: center;">
                                <thead>
                                    <th class ="thleftcorner">ID NUMBER</th>
                                    <th>ROLE</th>
                                    <th>NAME</th>
                                    <th>GENDER</th>
                                    <th>BIRTHDAY</th>
                                    <th>ADDRESS</th>
                                    <th>STATUS</th>
                                    <th class ="thrightcorner">ACTION</th>
                                </thead>
                                <tbody id="userTableBody">
                                </tbody>
                            </table>
                        </section>
                    </section>
                </div>

                <div>
                    
                    <!-- <h1>
                        TRANSACTIONS PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="margin-bottom: 30px;" class="search-bar search">
                                <input id="searchTransaction" class="search_input" type="search" name="search" maxlength="100" placeholder="Search" required />
                                <button id="searchTransactionBtn" class="search_btn-submit" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
                            </section>
                            <table>
                                <thead>
                                    <th class ="thleftcorner">ACTOR</th>
                                    <th>TRANSACTION REF NO.</th>
                                    <th>SHOP</th>
                                    <th>STATUS</th>
                                    <th class ="thrightcorner">ACTION</th>
                                </thead>
                                <tbody id="transactionTableBody"></tbody>
                            </table>
                        </section>
                    </section>

                </div>

                <div>
                    <!-- <h1>
                        SHOP PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="margin-bottom: 30px;" class="search-bar search">
                                <input id="searchShop" class="search_input" type="search" name="search" maxlength="100" placeholder="Search" required />
                                <button id="searchShopBtn" class="search_btn-submit" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
                            </section>
                            <table>
                                <thead>
                                    <th class ="thleftcorner">OWNER ID NO.</th>
                                    <th>SHOP NAME</th>
                                    <th>STATUS</th>
                                    <th class ="thrightcorner">ACTION</th>
                                </thead>
                                <tbody id="shopTableBody"></tbody>
                            </table>
                        </section>
                    </section>
                </div>

                <div>
                    <!-- <h1>
                        PET PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="margin-bottom: 30px;" class="search-bar search">
                                <input id="searchPet" class="search_input" type="search" name="search" maxlength="100" placeholder="Search" required />
                                <button id="searchPetBtn" class="search_btn-submit" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
                            </section>
                            <table>
                                <thead>
                                    <th class ="thleftcorner">OWNER NAME</th>
                                    <th>PET NAME</th>
                                    <th>PET BREED</th>
                                    <th>STATUS</th>
                                    <th class ="thrightcorner">ACTION</th>
                                </thead>
                                <tbody id="petTableBody"></tbody>
                            </table>
                        </section>
                    </section>
                </div>

                <div>
                
                    <!-- <h1>
                        QUESTIONS PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="margin-bottom: 30px;" class="search-bar search">
                                <input id="searchQuestion" class="search_input" type="search" name="search" maxlength="100" placeholder="Search" required />
                                <button id="searchQuestionBtn" class="search_btn-submit" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
                            </section>
                    <table>
                        <thead>
                            <tr style="text-align: center;">
                                <th class="thleftcorner">AUTHOR</th>
                                <th>QUESTION TITLE</th>
                                <th>ANSWERED BY</th>
                                <th>DATE POSTED</th>
                                <th class="thrightcorner">ACTION</th>
                            </tr>
                            <!-- <th class ="thleftcorner">AUTHOR</th>
                            <th>QUESTION TITLE</th>
                            <th>ANSWERED BY</th>
                            <th>DATE POSTED</th>
                            <th class ="thrightcorner">ACTION</th> -->
                        </thead>
                        <tbody id="questionTableBody">
                            
                        </tbody>
                    </table>

                </div>
                <div>
                    <!-- <h1>
                        PROFILE PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="display: inline-block; background-color: #fffaed; border-radius: 10px;">
                                <section style="display: flex; width: 1500px; justify-content: center;">
                                    <h3 style="margin-top: 20px;font-family: 'Roboto Slab', serif;">Profile Information</h3>
                                </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 0; margin-right: 10px; margin-left: 10px; ">
                                <section style="display: inline-flex">
                                    <section style="display: flex; justify-content: right; width: 600px; margin-right: 10px;">
                                        <img style="border-style: ridge;" id="profilePic" src="C:\Users\noeco\OneDrive\Desktop\HiBreed\HiBreed-WEBSITE\Images\profileLogo.png" alt="" class="profLogo">
                                    </section>
                                    <section style="display: inline; width: 800px">
                                        <label class="labs" style="width:10%">ID No: </label>
                                        <label id="adminIdNoLabel" class="prof_label"></label>
                                        <br>
                                        <label class="labs" style="width:32%">First Name: </label>
                                        <label class="labs" style="width: 110px">Middle Name: </label>
                                        <br>
                                        <input id="adminFirstNameLabel" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="adminMiddleNameLabel" class="prof_input" style="margin-bottom: 5px;" ></label>
                                        <br>
                                        <label class="labs" style="width:32%">Last Name: </label>
                                        <label class="labs">Gender: </label>
                                        <label class="labs">Birthdate: </label>
                                        <br>
                                        <input id="adminLastNameLabel" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="adminGenderLabel" class="prof_input" style="margin-right: 5px; width: 150px;"></label>
                                        <input id="adminBirthdayLabel" class="prof_input" style="width: 150px;"></label>                                 
                                        <br>
                                        <label class="labs" style="width:32%">Position: </label>
                                        <label class="labs" style="width:100px;">Date Hired: </label>
                                        <br>
                                        <label id="adminPositionLabel" class="prof_label" style="font-family: 'Open Sans', sans-serif; margin-right: 5px;"></label>
                                        <label id="adminDateHiredLabel" class="prof_label" style="width: 150px;"></label>
                                        <br>
                                        <label class="labs" style="width:32%;">Username: </label>
                                        <label class="labs" style="width:100px;">Password: </label>
                                        <br>
                                        <input id="adminUsernameLabel" class="prof_input" style="margin-right: 5px;"></label>
                                        <input id="adminPasswordLabel" class="prof_input"></label>

                                    </section>
                                </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 10px; margin-right: 10px; margin-left: 10px;">
                                    <section style="display: flex; width: 1500px; justify-content: center;">
                                        <button id="updateProfileBtn" type="button" class="btn btn-primary" style="font-family: 'Open Sans', sans-serif; margin-right: 10px;">Update Info</button>                
                                    </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 10px; margin-right: 10px; margin-left: 10px;">
                            </section>
                        </section>
                    </section>
                </div>
                <div>
                    <!-- <h1>
                        REGISTRATION PAGE
                    </h1> -->
                    <section class="outer-wrapper">
                        <section class="table-wrapper">
                            <section style="display: inline-block; background-color: #fffaed; border-radius: 10px;">
                                <section style="display: flex; width: 1500px; justify-content: center;">
                                    
                                </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 0; margin-right: 10px; margin-left: 10px; ">
                                <section style="display: inline-flex">
                                    <!-- <section style="display: flex; justify-content: right; width: 500px; margin-right: 10px;">
                                        <img id="profilePic" src="C:\Users\noeco\OneDrive\Desktop\HiBreed\HiBreed-WEBSITE\Images\profileLogo.png" alt="" class="profLogo">
                                    </section> -->
                                    <section style="display: inline; width: 700px; margin-left: 80px;">
                                        <h3 style="margin-top: 20px; font-family: 'Roboto Slab', serif;">Admin Registration</h3>
                                        <!-- <br> -->
                                        <!-- <label class="labs" style="width:10%">ID No: </label>
                                        <input id="regAdminId" class="prof_input" style="margin-bottom: 5px;"></input> -->
                                        <br>
                                        <label class="labs" style="width:37%">First Name: </label>
                                        <label class="labs" style="width: 110px">Middle Name: </label>
                                        <br>
                                        <input id="regAdminFirstName" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="regAdminMiddleName" class="prof_input" style="margin-bottom: 5px;" ></label>
                                        <br>
                                        <label class="labs" style="width:37%">Last Name: </label>
                                        <label class="labs">Gender: </label>
                                        <label class="labs">Birthdate: </label>
                                        <br>
                                        <input id="regAdminLastName" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="regAdminGender" class="prof_input" style="margin-right: 5px; width: 150px;"></label>
                                        <input id="regAdminBirthdate" class="prof_input" style="width: 150px;"></label>                                 
                                        <br>
                                        <label class="labs" style="width:37%">Position: </label>
                                        <label class="labs" style="width:100px;">Date Hired: </label>
                                        <br>
                                        <input id="regAdminPosition" class="prof_label" style="font-family: 'Open Sans', sans-serif; margin-right: 5px;margin-bottom: 5px;"></input>
                                        <input id="regAdminDateHired" class="prof_label" style="width: 150px;margin-bottom: 5px;"></input>
                                        <br>
                                        <label class="labs" style="width:37%;">Username: </label>
                                        <label class="labs" style="width:100px;">Password: </label>
                                        <br>
                                        <input id="regAdminUsername" class="prof_input" style="margin-right: 5px;"></label>
                                        <input id="regAdminPassword" class="prof_input"></label>
                                    </section>

                                    <section style="display: inline; width: 700px; margin-left: 50px;">
                                        <h3 style="margin-top: 20px; font-family: 'Roboto Slab', serif;">Member Registration</h3>
                                        <br>
                                        <label class="labs" style="width:20%; margin-bottom: 5px;">Membership ID: </label>
                                        <input id="regMemId" class="prof_label" style="margin-bottom: 10px;"></input>
                                        <br>
                                        <label class="labs" style="width:140px; display:none" id="kenLabel2">Kennel Name: </label>
                                        <input id="regMemKennelName" class="prof_input" style="width: 200px;margin-bottom: 5px; display: none;" ></input>
                                        <br>
                                        <label class="labs" style="width:37%;">First Name: </label>
                                        <label class="labs" style="width: 110px">Middle Initial: </label>
                                        <br>
                                        <input id="regMemFirstName" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="regMemMiddleInitial" class="prof_input" style="margin-bottom: 5px;" ></label>
                                        <br>
                                        <label class="labs" style="width:37%">Last Name: </label>
                                        <label class="labs" style="width:150px">Gender: </label>
                                        <label class="labs">Birthdate: </label>
                                        <br>
                                        <input id="regMemLastName" class="prof_input" style="margin-right: 5px; margin-bottom: 5px;"></label>
                                        <input id="regMemGender" class="prof_input" style="margin-right: 5px; width: 150px;"></label>
                                        <input id="regMemBirthdate" class="prof_input" style="width: 150px;"></label>                                 
                                        <br>
                                        <label class="labs" style="width:37%">Member Type: </label>
                                        <label class="labs" style="width:150px;">Registration Date: </label>
                                        <label class="labs" style="width:37%; display:none" id="expLabel">Sample</label>
                                        <br>
                                        <!-- <select name="memberType" id="memberTypeInput" class="prof_input" style="margin-right: 5px;margin-bottom: 5px;">
                                            <option value="Breeder">Breeder</option>
                                            <option value="Shooter">Shooter</option>
                                            <option value="Veterinarian">Veterinarian</option>
                                        </select> -->
                                        <label for="breederCheckbox" class="labs" style="margin-left: 10px">Breeder</label>
                                        <input type="checkbox" class="prof_input" style="width: 5%; margin-right: 67px;" name="memberType" id="breederCheckbox" value="Pet Breeder">
                                        <input id="regMemRegistrationDate" class="prof_input" style="width: 150px;margin-bottom: 5px;margin-right: 5px"></input>
                                        <input id="expInput" class="prof_input" style="width: 150px;margin-bottom: 5px;margin-right: 5px; display:none "></input>
                                        <br>
                                        <label for="shooterCheckbox" class="labs" style="margin-left: 10px">Shooter</label>
                                        <input type="checkbox" class="prof_input" style="width: 5%;margin-right: 10%;" name="memberType" id="shooterCheckbox" value="Pet Shooter">
                                        <label class="labs" style="width:37%; display: none;" id="pcrLabel">Sample</label>
                                        <!-- <label class="labs" style="width:140px;" id="kenLabel">Kennel Name: </label> -->
                                        <br>
                                        <label for="vetCheckbox" class="labs" style="margin-left: 10px">Veterinarian</label>
                                        <input type="checkbox" class="prof_input" style="width: 5%;margin-right: 10%;" name="memberType" id="vetCheckbox" value="Veterinarian">
                                        <input id="pcrInput" class="prof_input" style="width: 150px;margin-bottom: 5px;margin-right: 5px; display:none"></input>  
                                        <br>
                                        <label class="labs" style="width:37%">Address: </label>
                                        <br>
                                        <input id="regMemAddress" class="prof_input" style="width: 82%; margin-right: 5px; margin-bottom: 5px;"></input>
                                    </section>
                                </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 10px; margin-right: 10px; margin-left: 10px;">
                                    <section style="display: flex; width: 1500px; justify-content: center;">
                                        <button id="registerAdminBtn" type="button" class="search_btn-submit" style="font-family: 'Open Sans', sans-serif; border-radius: 10px; margin-right: 40%">Register Admin</button>
                                        <button id="registerMemberBtn" type="button" class="search_btn-submit" style="font-family: 'Open Sans', sans-serif; border-radius: 10px; margin-right: 42.5px">Register Member</button> 
                                        <button id="verifyMemberBtn" type="button" class="search_btn-submit" style="background-color: #4f79c7; color: #ffffff; font-family: 'Open Sans', sans-serif; border-radius: 10px; margin-right: 42.5px">Verify Member</button> 
                                    </section>
                                <hr style="border: solid 1px #fffaed; margin-bottom: 10px; margin-top: 10px; margin-right: 10px; margin-left: 10px;">
                            </section>
                        </section>
                    </section>
                </div>
            </div>

        </div>

        <script type="module">

            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js";
            

            // TODO: Add SDKs for Firebase products that you want to use    
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyDRj-cw5P6tqIWMf5BBjM9-RmtszPP5dpc",
              authDomain: "hi-breed-ca22b.firebaseapp.com",
              databaseURL: "https://hi-breed-ca22b-default-rtdb.asia-southeast1.firebasedatabase.app",
              projectId: "hi-breed-ca22b",
              storageBucket: "hi-breed-ca22b.appspot.com",
              messagingSenderId: "689097818559",
              appId: "1:689097818559:web:2e43df1060e2d917cbe10a",
              measurementId: "G-F0NDE7VY71"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);

            import { getFirestore, doc, getDoc, getDocs, addDoc, onSnapshot, collection, query, deleteDoc, updateDoc, where} from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";

            const db = getFirestore();
            
            //-------- Functions for top Navbar changes --------//
    
            document.querySelectorAll('.topnav a')
            .forEach(e => e.addEventListener('click', _ => change(e.dataset.id)))
    
        function change(n) {
    
            let panels = document.querySelectorAll('main div')
            panels.forEach(p => p.classList.remove('active'))
            panels[n - 1].classList.add('active')
    
            let contents = document.querySelectorAll('.content div')
            contents.forEach(p => p.classList.remove('active'))
            contents[n - 1].classList.add('active');
    
            let nav = document.querySelectorAll('.topnav a')
            nav.forEach(x => x.classList.remove('active'))
            nav[n - 1].classList.add('active')
        }

        // --------- To display an input element when checkbox is clicked ------- // 

        const breederCheckbox = document.getElementById("breederCheckbox");
        const vetCheckbox = document.getElementById("vetCheckbox");
        const shootCheckbox = document.getElementById("shooterCheckbox");

        const kenLabel = document.getElementById("kenLabel2");

        const pcrLabel = document.getElementById("pcrLabel");
        const pcrInput = document.getElementById("pcrInput");

        const expLabel = document.getElementById("expLabel");
        const expInput = document.getElementById("expInput");

        breederCheckbox.addEventListener("change", function(){

            if (breederCheckbox.checked) {
         
                regMemKennelName.style.display = "";          
                kenLabel.style.display = "";

            } else {

                regMemKennelName.style.display = "none";
                kenLabel.style.display = "none";
            }

        })

        shootCheckbox.addEventListener("change", function() {

            if (shootCheckbox.checked) {
                expLabel.style.display = "";
                expLabel.textContent = "Years of Exp.:"
                expInput.style.display = "";

            }else {
                expLabel.style.display = "none";
                expLabel.textContent = ""
                expInput.style.display = "none";
            }
            
        })

        vetCheckbox.addEventListener("change", function(){

            if (vetCheckbox.checked) {
                pcrLabel.style.display = "";
                pcrLabel.textContent = "PRC ID No:"
                pcrInput.style.display = "";
            }else {
                pcrLabel.style.display = "none";
                pcrLabel.textContent = ""
                pcrInput.style.display = "none";
            }

        })

        // ------ Function for verify Member Btn ------ //

        var verifyMemberBtn = document.getElementById("verifyMemberBtn");
        var verificationCloseModalBtn = document.getElementById("verificationCloseModalBtn");
        var verifyModal = document.getElementById("verificationModal");
        var verifySpan = document.getElementById("verification-span");

        verifyMemberBtn.onclick = function () {
            window.open('https://online.prc.gov.ph/verification', 'newwindow', 'width=400, heigh=600');
        }

        // --------- Register Admin References -------------- // 

        let regAdminFirstName = document.getElementById("regAdminFirstName");
        let regAdminMiddleName = document.getElementById("regAdminMiddleName");
        let regAdminLastName = document.getElementById("regAdminLastName");
        let regAdminGender = document.getElementById("regAdminGender");
        let regAdminBirthdate = document.getElementById("regAdminBirthdate");
        let regAdminPosition = document.getElementById("regAdminPosition");
        let regAdminDateHired = document.getElementById("regAdminDateHired");
        let regAdminUsername = document.getElementById("regAdminUsername");
        let regAdminPassword = document.getElementById("regAdminPassword");

        let registerAdminBtn = document.getElementById("registerAdminBtn");

        // ------------- function for Register Admin Btn ------- //

        async function registerAdmin(){

            var ref = collection(db,'Admin');

            const docRef = await addDoc(
                ref, {
                    birthdate: regAdminBirthdate.value,
                    dateHired: regAdminDateHired.value,
                    firstName: regAdminFirstName.value,
                    gender: regAdminGender.value,
                    lastName: regAdminLastName.value,
                    middleName: regAdminMiddleName.value,
                    password: regAdminPassword.value,
                    position: regAdminPosition.value,
                    username: regAdminUsername.value,
                }
            )
            .then((docRef)=>{
                const idNo = docRef.id; //get the auto-generated ID and assign it to the idNo property
                return updateDoc(doc(ref, docRef.id), {idNo: idNo}); //update the document to add the idNo property
            })
            .then(()=>{
                alert("Admin Information added Successfully");
                location.reload();
            })
            .catch((error) => {
                alert('Unsuccessful, error: '+ error);
            });
        }

        // ------ assign registerAdmin to registerAdminBtn --------- // 

        registerAdminBtn.addEventListener("click", registerAdmin);

        // ------ References for Register Member ------ //

            let regMemId = document.getElementById("regMemId");
            let regMemKennelName = document.getElementById("regMemKennelName");
            let regMemFirstName = document.getElementById("regMemFirstName");
            let regMemMiddleInitial = document.getElementById("regMemMiddleInitial");
            let regMemLastName = document.getElementById("regMemLastName");
            let regMemGender = document.getElementById("regMemGender");
            let regMemBirthdate = document.getElementById("regMemBirthdate");

            let breederType = document.getElementById("breederCheckbox");
            let vetType = document.getElementById("vetCheckbox");
            let shooterType = document.getElementById("shooterCheckbox");

            let yearsOfExp = document.getElementById("expInput");
            let pcrIdNo = document.getElementById("pcrInput");

            let regMemRegistrationDate = document.getElementById("regMemRegistrationDate");
            let regMemAddress = document.getElementById("regMemAddress");

            let regMemBtn = document.getElementById("registerMemberBtn");

        // ----- function for Register Member Btn ------ //

        async function registerMember(){

            var ref = collection(db,'Members');
    
            let memberTypeInput = []; //initialize the memberTypeInput variable

            //check the checkboxes to determine the member type
            if (breederType.checked) {
                memberTypeInput.push("Pet Breeder"); //add "Breeder" to the member type if the checkbox is checked
            }
            if (vetType.checked) {
                memberTypeInput.push("Veterinarian"); //add "Vet" to the member type if the checkbox is checked
            }
            if (shooterType.checked) {
                memberTypeInput.push("Pet Shooter"); //add "Shooter" to the member type if the checkbox is checked
            }

            const docRef = await addDoc(
                ref, {
                    address: regMemAddress.value,
                    birthday: regMemBirthdate.value,
                    dateOfRegistration: regMemRegistrationDate.value,
                    firstName: regMemFirstName.value,
                    gender: regMemGender.value,
                    kennelName: regMemKennelName.value,
                    prc_id_no: pcrIdNo.value,
                    yearsOfExp: yearsOfExp.value,
                    lastName: regMemLastName.value,
                    memberId: regMemId.value,
                    middleInitial: regMemMiddleInitial.value,
                    type: memberTypeInput
                }
            )
            .then((docRef)=>{
                const idNo = docRef.id; //get the auto-generated ID and assign it to the idNo property
                return updateDoc(doc(ref, docRef.id), {idNo: idNo}); //update the document to add the idNo property
            })
            .then(()=>{
                alert("Member Information added Successfully");
                location.reload();
            })
            .catch((error) => {
                alert('Unsuccessful, error: '+ error);
            });
        }

        // ------ assign registerMember to registerMemberBtn --------- // 

        regMemBtn.addEventListener("click", registerMember);


        // ------------- function for update Info Btn --------- //

        async function updateInfo(){

            const adminId = document.getElementById("adminIdNoLabel").innerText;
            const newFirstName = document.getElementById("adminFirstNameLabel").value;
            const newMiddleName = document.getElementById("adminMiddleNameLabel").value;
            const newLastName = document.getElementById("adminLastNameLabel").value;
            const newGender = document.getElementById("adminGenderLabel").value;
            const newBirthday = document.getElementById("adminBirthdayLabel").value;
            const newUsername = document.getElementById("adminUsernameLabel").value;
            const newPassword = document.getElementById("adminPasswordLabel").value;

            const adminRef = doc(db, "Admin", adminId);
            await updateDoc(adminRef, {

                firstName: newFirstName,
                middleName: newMiddleName,
                lastName: newLastName,
                gender: newGender,
                birthdate: newBirthday,
                username: newUsername,
                password: newPassword

            });
            window.alert("Profile Information updated Successfully");
            location.reload();
        }

        // -------- Functions for changing admin info -------- //
        
        async function getAdminInfo(){

            const inputValueText = document.getElementById('adminName');
            const inputValue = localStorage.getItem('inputValue');

            const updateProfile = document.getElementById("updateProfileBtn");

            const querySnapshot1 = await getDocs(collection(db,"Admin"));

            querySnapshot1.forEach(doc => {

                if (inputValue === doc.data().username){

                    // --- for change name in welcome --- //

                    inputValueText.innerText = doc.data().firstName;

                    // --- profile page --- //

                    adminIdNoLabel.innerText = doc.data().idNo;
                    adminFirstNameLabel.value = doc.data().firstName;
                    adminMiddleNameLabel.value = doc.data().middleName;
                    adminLastNameLabel.value = doc.data().lastName;
                    adminGenderLabel.value = doc.data().gender;
                    adminBirthdayLabel.value = doc.data().birthdate;

                    adminPositionLabel.innerText = doc.data().position;
                    adminDateHiredLabel.innerText = doc.data().dateHired;
                    adminUsernameLabel.value = doc.data().username;
                    adminPasswordLabel.value = doc.data().password;

                    const imageId = 'profilePic'; // replace with the ID of your image element
                    const newImageUrl = doc.data().image; // replace with the URL of your new image

                    if (newImageUrl){
                    const img = document.getElementById(imageId);
                    img.setAttribute('src', newImageUrl);
                    }

                    const mainImgId = 'profilePicMain';
                    const mainImgUrl = doc.data().image;
                    if (mainImgUrl){
                    const mainImg = document.getElementById(mainImgId);
                    mainImg.setAttribute('src',mainImgUrl);
                    }
                    updateProfile.onclick = updateInfo;

                }

            })
        }

        getAdminInfo();

        // -------------- function for window.onclick close --------- //

        function modalClose(modal) {
          modal.style.display = "none";
        }

        function outsideModalClick(event, modal) {
          if (event.target == modal) {
            modalClose(modal);
          }
        }  

        // -------------- function for save Changes Btn ------------- //

        async function saveChanges(){
            const userId = document.getElementById("idNoLabel").innerText;
            const newStatus = document.getElementById("statusInput").value;

            const userRef = doc(db, "User", userId);
            await updateDoc(userRef, {
              status: newStatus
            });

            window.alert("Status updated successfully");
            location.reload();
        }
       
        //--------------- Initializing labelboxes in Modal ------------//

            var idNoLabel = document.getElementById("idNoLabel");
            var firstNameLabel = document.getElementById("firstNameLabel");
            var middleNameLabel = document.getElementById("middleNameLabel");
            var lastNameLabel = document.getElementById("lastNameLabel");
            var genderLabel = document.getElementById("genderLabel");
            var birthdayLabel = document.getElementById("birthdayLabel");
            var roleLabel = document.getElementById("roleLabel");
            var statusInput = document.getElementById("statusInput");

        //--------------- Filling the Table ----------------//
        
        function setAttributes(element, attributes) {
          for (let key in attributes) {
            element.setAttribute(key, attributes[key]);
          }
        }

        //------- function for User Table -------//

        async function GetAllDataRealtime() {

            var saveChangesBtn = document.getElementById("saveModalBtn");

            var closeBtn = document.getElementById("closeModalBtn");

            var modal = document.getElementById("myModal");

            var span = document.getElementById("user-span");

            const querySnapshot = await getDocs(collection(db,"User"));

            const table = document.getElementById("userTableBody");

            let validIdLabel = document.getElementById("validIdLabel");
            let parentConcentLabel = document.getElementById("parentConcentLabel");
            let validIdImg = document.getElementById("validIdImg");
            let parentConcentImg = document.getElementById("parentConcentImg");

            var data = [];

            querySnapshot.forEach(doc => {

                const idNo = doc.data().idNo;
                const gender = doc.data().gender;
                const birthday = doc.data().birth;
                const address = doc.data().address;

                const firstName = doc.data().firstName;
                const middleName = doc.data().middleName;
                const lastName = doc.data().lastName;
                const fullName = [firstName, middleName, lastName].filter(Boolean).join(" ");

                const role = doc.data().role.join(", ");
                const status = doc.data().status;

                const parentValidId = doc.data().parent_valid_id;
                const parentConcent = doc.data().parent_consent;

                const row = table.insertRow();

                const idCell = row.insertCell();
                idCell.innerText = idNo;
                
                const roleCell = row.insertCell();
                roleCell.innerText = role;

                const nameCell = row.insertCell();
                nameCell.innerText = fullName;

                const genderCell = row.insertCell();
                genderCell.innerText = gender;

                const birthCell = row.insertCell();
                birthCell.innerText = birthday;

                const AddressCell = row.insertCell();
                AddressCell.innerText = address;

                const statusCell = row.insertCell();
                statusCell.innerText = status;

                const actionCell = row.insertCell();

                const editButton = document.createElement("button");
                editButton.className = "editBtn";
                editButton.innerHTML = '<i class="fa-solid fa-pen-to-square"></i>';
                editButton.style.marginRight = "5px";

                editButton.onclick = async function() {
                    modal.style.display = "block";

                    idNoLabel.innerText = idNo;
                    firstNameLabel.innerText = firstName;
                    middleNameLabel.innerText = middleName;
                    lastNameLabel.innerText = lastName;
                    genderLabel.innerText = gender;
                    birthdayLabel.innerText = birthday;

                    roleLabel.innerText = role;
                    
                    if(role === "Pet Owner" && role.length === 9){

                        validIdLabel.style.display ="";
                        parentConcentLabel.style.display ="";
                        validIdImg.style.display = "";
                        parentConcentImg.style.display = "";

                        validIdImg.setAttribute('src', parentValidId);
                        parentConcentImg.setAttribute('src', parentConcent);

                        validIdImg.addEventListener('click', function() {
                            const screenW = screen.width;
                            const screenH = screen.height;
                            const windowW = 530;
                            const windowH = 1500;
                            const left = 0;
                            const top = 0;
                            window.open(parentValidId, 'validIdWindow', `width=${windowW},height=${windowH},left=${left},top=${top}`);
                        });

                        parentConcentImg.addEventListener('click', function() {
                            const screenW = screen.width;
                            const screenH = screen.height;
                            const windowW = 550;
                            const windowH = 1500;
                            const left = screenW - windowW;
                            const top = 0;
                            window.open(parentConcent, 'parentConcentWindow', `width=${windowW},height=${windowH},left=${left},top=${top}`);
                        });

                    }else {

                        validIdLabel.style.display ="none";
                        parentConcentLabel.style.display ="none";
                        validIdImg.style.display = "none";
                        parentConcentImg.style.display = "none";

                    }

                    statusInput.value = status;

                }
                
                span.onclick = function () {
                  modalClose(modal);
                };

                closeBtn.onclick = function() {
                    modal.style.display = "none";
                }

                saveChangesBtn.onclick = saveChanges;

                actionCell.appendChild(editButton);

                const deleteButton = document.createElement("button");
                deleteButton.className = "deleteBtn";
                deleteButton.innerHTML = '<i class="fa-regular fa-trash-can"></i>';
                
                deleteButton.onclick = async function() {
                  try {
                    window.confirm("Are you sure you want to delete this document?");
                    if(confirm == true)
                    {
                        await deleteDoc(doc.ref);
                        window.alert("Document successfully deleted!");
                        const row = deleteButton.closest("tr");
                        row.remove();
                    }
                  } catch (error) {
                    console.error("Error removing document: ", error);
                  }
                };

                actionCell.appendChild(deleteButton);
                


            });

            AddAllItemsToTable(data);
        }

        //Search function for Users Table

        let searchUserBtn = document.getElementById("searchUserBtn");
        let searchUserInput = document.getElementById("searchUser");

        searchUserBtn.addEventListener("click", searchUser);
        searchUserInput.addEventListener("input", handleUserInput);

        function searchUser() {
          // Get the input value
          var input = searchUserInput.value.toLowerCase();
        
          // Get the table rows
          var table = document.getElementById("userTableBody");
          var rows = table.getElementsByTagName("tr");
        
          // Loop through all the rows and hide those that don't match the search query
          for (var i = 0; i < rows.length; i++) {
            var cells = rows[i].getElementsByTagName("td");
            var match = false;
            for (var j = 0; j < cells.length; j++) {
              var cellText = cells[j].innerText.toLowerCase();
              if (cellText.indexOf(input) > -1) {
                match = true;
                break;
              }
            }
            if (match) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        }

        function handleUserInput() {
          // Reset the table when input is erased
          if (searchUserInput.value === "") {
            var table = document.getElementById("userTableBody");
            var rows = table.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++) {
              rows[i].style.display = "";
            }
          }
        }

        // ---- function for shop page ---- //

        async function GetAllShopData() {

            const querySnapshot = await getDocs(collection(db,"Shop"));
            const querySnapshot2 = await getDocs(collection(db,"User"));
            const petQuerySnapshot = await getDocs(query(collection(db, "Pet"), where("displayFor", "==", "forSale")));
            const serviceQuerySnapshot = await getDocs(collection(db,"Services"));

            var shopCloseBtn = document.getElementById("shopCloseModalBtn");
            var modal = document.getElementById("shopModal");
            const span = document.getElementById("shop-span");

            

            const table = document.getElementById("shopTableBody");

            var data = [];

                querySnapshot.forEach(doc => {

                    const ownerIdNo = doc.data().breeder;
                    const shopName = doc.data().shopName;

                    let idNo = "";
                    let gender = "";
                    let birthday = "";
                    let address = "";
                        
                    let firstName = "";
                    let middleName = "";
                    let lastName = "";
                    let fullName = "";

                    let role = "";
                    let status = "";

                    let petName = "";
                    let petBreed = "";

                    let serviceName = "";

                    let petArr = [];

                    let servArr = [];

                    querySnapshot2.forEach(doc => {

                        if (ownerIdNo === doc.data().idNo){
                        
                            idNo = doc.data().idNo;
                            gender = doc.data().gender;
                            birthday = doc.data().birth;
                            address = doc.data().address;

                            firstName = doc.data().firstName;
                            middleName = doc.data().middleName;
                            lastName = doc.data().lastName;
                            fullName = [firstName, middleName, lastName].filter(Boolean).join(" ");

                            role = doc.data().role.join(", ");
                            status = doc.data().status;
                            
                            }

                        });

                    petQuerySnapshot.forEach(doc => {
                        if(ownerIdNo === doc.data().pet_breeder){

                            const petArrItem = ` ${doc.data().pet_name} - ${doc.data().pet_breed} ${'<br>'}`;
                            petArr += petArrItem;

                        }
                    });            

                    serviceQuerySnapshot.forEach(doc => {
                        
                        if(ownerIdNo === doc.data().shooter_id){
                        
                            // const servList = document.getElementById("serviceOfferedLabel");

                            // const li = document.createElement("li");
                            // if(ownerIdNo === doc.data().shooter_id){
                            //     li.textContent = doc.data().name;
                            //     console.log(li.textContent);
                            // }
                            

                            // const button = document.createElement("button");
                            // button.textContent = "Click me";
                            // button.addEventListener("click", () => {
                            //     alert("Clicked!");
                            // });
                        
                            // li.appendChild(button);
                        
                            // servList.appendChild(li);

                            const servArrItem = `  ${doc.data().name} ${'<br>'}`;
                            servArr += servArrItem;
        
                        }

                    });

                    const row = table.insertRow();

                    const ownerIdCell = row.insertCell();
                    ownerIdCell.innerText = ownerIdNo;

                    const shopNameCell = row.insertCell();
                    shopNameCell.innerText = shopName;

                    const statusCell = row.insertCell();
                    statusCell.innerText = status;

                    const actionCell = row.insertCell();

                    const editButton = document.createElement("button");
                    editButton.className = "editBtn";
                    editButton.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
                    editButton.style.marginRight = "5px";

                    editButton.onclick = async function() {
                        modal.style.display = "block";

                        shopIdNoLabel.innerText = idNo;
                        shopFirstNameLabel.innerText = firstName;
                        shopMiddleNameLabel.innerText = middleName;
                        shopLastNameLabel.innerText = lastName;
                        shopGenderLabel.innerText = gender;
                        shopBirthdayLabel.innerText = birthday;

                        shopRoleLabel.innerText = role;

                        shopStatusLabel.innerText = status;
                        
                        petsForSaleLabel.innerHTML = petArr;
                        serviceOfferedLabel.innerHTML = servArr;
                    }
                    
                    span.onclick = function() {
                        modal.style.display = "none";
                    }

                    shopCloseBtn.onclick = function() {
                        modal.style.display = "none";
                    }

                    actionCell.appendChild(editButton);

                    const deleteButton = document.createElement("button");
                    deleteButton.className = "deleteBtn";
                    deleteButton.innerHTML = '<i class="fa-regular fa-trash-can"></i>';
                    
                    deleteButton.onclick = async function() {
                    try {
                        window.confirm("Are you sure you want to delete this document?");
                        if(confirm == true)
                        {
                            await deleteDoc(doc.ref);
                            window.alert("Document successfully deleted!");
                            const row = deleteButton.closest("tr");
                            row.remove();
                        }
                    } catch (error) {
                        console.error("Error removing document: ", error);
                    }
                    };

                    actionCell.appendChild(deleteButton);

                });

            AddAllItemsToTable(data);
        }

        // Search function for Shop page

        let searchShopBtn = document.getElementById("searchShopBtn");
        let searchShopInput = document.getElementById("searchShop");

        searchShopBtn.addEventListener("click", searchShop);
        searchShopInput.addEventListener("input", shopSearchInput);

        
        function searchShop() {
          // Get the input value
          var input = searchShopInput.value.toLowerCase();
        
          // Get the table rows
          var table = document.getElementById("shopTableBody");
          var rows = table.getElementsByTagName("tr");
        
          // Loop through all the rows and hide those that don't match the search query
          for (var i = 0; i < rows.length; i++) {
            var cells = rows[i].getElementsByTagName("td");
            var match = false;
            for (var j = 0; j < cells.length; j++) {
              var cellText = cells[j].innerText.toLowerCase();
              if (cellText.indexOf(input) > -1) {
                match = true;
                break;
              }
            }
            if (match) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        }

        function shopSearchInput() {
          // Reset the table when input is erased
          if (searchShopInput.value === "") {
            var table = document.getElementById("shopTableBody");
            var rows = table.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++) {
              rows[i].style.display = "";
            }
          }
        }


        // ---- function for pets page ---- //

        async function GetAllPetData() {

            const petQuerySnapshot = await getDocs(collection(db,"Pet"), where("displayFor", "==", "forSale"));
            const userQuerySnapshot = await getDocs(collection(db,"User"));
            
            var petDetailsCloseBtn = document.getElementById("petDetailsCloseModalBtn");
            var modal = document.getElementById("petDetailsModal");
            const span = document.getElementById("petDetails-span");

            const table = document.getElementById("petTableBody");

            var data = [];

            let ownerName = "";
            
            petQuerySnapshot.forEach(doc => {

                if(doc.data().displayFor === 'forSale' || doc.data().displayFor === 'forDating'){

                    const petName = doc.data().pet_name;
                    const petBreed = doc.data().pet_breed;
                    const petStatus = doc.data().displayFor;
                    const petBreederId = doc.data().pet_breeder;

                    const petId = doc.data().id;
                    const petDesc = doc.data().pet_description;
                    const petMarkings = doc.data().pet_colorMarkings;
                    const petGender = doc.data().pet_gender;
                    const petSize = doc.data().petSize;
                    const petWeight = doc.data().petKilo;
                    const petBirthdate = doc.data().pet_birthday;
                    const petVaccine = doc.data().pet_vaccine.join(", ");
                    const petPrice = doc.data().pet_price;


                    const imageId = 'petImage'; // replace with the ID of your image element
                    const newImageUrl = doc.data().photos[0]; // replace with the URL of your new image
                    // const img = document.getElementById(imageId);
                    // img.setAttribute('src', newImageUrl);

                    userQuerySnapshot.forEach(doc => {
                        if (petBreederId === doc.data().idNo){

                            const firstName = doc.data().firstName;
                            const middleName = doc.data().middleName;
                            const lastName = doc.data().lastName;
                            const fullName = [firstName, middleName, lastName].filter(Boolean).join(" ");

                            ownerName = fullName;

                        }
                    });

                    const row = table.insertRow();

                    const ownerNameCell = row.insertCell();
                    ownerNameCell.innerText = ownerName;

                    const petNameCell = row.insertCell();
                    petNameCell.innerText = petName;

                    const petBreedCell = row.insertCell();
                    petBreedCell.innerText = petBreed;

                    const petStatusCell = row.insertCell();
                    petStatusCell.innerText = petStatus;

                    const actionCell = row.insertCell();

                    const editButton = document.createElement("button");
                    editButton.className = "editBtn";
                    editButton.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
                    editButton.style.marginRight = "5px";

                    editButton.onclick = async function() {
                        modal.style.display = "block";

                        petImage.src = newImageUrl;
                        petDetailsIdLabel.innerText = petId;
                        petDetailsNameLabel.innerText = petName;
                        petDetailsBreedLabel.innerText = petBreed;
                        petDetailsDescLabel.innerText = petDesc;
                        petDetailsGenderLabel.innerText = petGender;
                        petDetailsMarkingsLabel.innerText = petMarkings;
                        petDetailsSizeLabel.innerText = petSize;
                        petDetailsWeightLabel.innerText = petWeight;
                        petDetailsBirthdateLabel.innerText = petBirthdate;
                        petDetailsVaccineLabel.innerText = petVaccine;

                        if(petStatus === 'forSale'){
                            petDetailsPriceLabel.innerText = petPrice;
                        }else {
                            petDetailsPriceLabel.innerText = "";
                        }
                    }

                    span.onclick = function() {
                      modal.style.display = "none";
                    }
                    
                    petDetailsCloseBtn.onclick = function() {
                        modal.style.display = "none";
                    }
                    
                    actionCell.appendChild(editButton);
                    
                    const deleteButton = document.createElement("button");
                    deleteButton.className = "deleteBtn";
                    deleteButton.innerHTML = '<i class="fa-regular fa-trash-can"></i>';
                    
                    deleteButton.onclick = async function() {
                    try {
                        window.confirm("Are you sure you want to delete this document?");
                        if(confirm == true)
                        {
                            await deleteDoc(doc.ref);
                            window.alert("Document successfully deleted!");
                            const row = deleteButton.closest("tr");
                            row.remove();
                        }
                    } catch (error) {
                        console.error("Error removing document: ", error);
                    }
                    };

                    actionCell.appendChild(deleteButton);
                }

            })
    
            AddAllItemsToTable(data);

        }

        // Search function for Pet page 

        let searchPetBtn = document.getElementById("searchPetBtn");
        let searchPetInput = document.getElementById("searchPet");

        searchPetBtn.addEventListener("click", searchPet);
        searchPetInput.addEventListener("input", petSearchInput);

        
        function searchPet() {
          // Get the input value
          var input = searchPetInput.value.toLowerCase();
        
          // Get the table rows
          var table = document.getElementById("petTableBody");
          var rows = table.getElementsByTagName("tr");
        
          // Loop through all the rows and hide those that don't match the search query
          for (var i = 0; i < rows.length; i++) {
            var cells = rows[i].getElementsByTagName("td");
            var match = false;
            for (var j = 0; j < cells.length; j++) {
              var cellText = cells[j].innerText.toLowerCase();
              if (cellText.indexOf(input) > -1) {
                match = true;
                break;
              }
            }
            if (match) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        }

        function petSearchInput() {
          // Reset the table when input is erased
          if (searchPetInput.value === "") {
            var table = document.getElementById("petTableBody");
            var rows = table.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++) {
              rows[i].style.display = "";
            }
          }
        }


        // ---- function for transaction page ---- //

        async function GetAllTransactionData() {

            const shopQuerySnapshot = await getDocs(collection(db,"Shop"));
            const transactionQuerySnapshot = await getDocs(collection(db,"Transaction"));
            const appointmentQuerySnapshot = await getDocs(collection(db,"Appointments"));

            var transactionCloseBtn = document.getElementById("transactionCloseBtn");
            var modal = document.getElementById("transactionModal");
            const span = document.getElementById("transaction-span");

            const table = document.getElementById("transactionTableBody");
            

            var data = [];

            let seller = "";
            let shop_name = "";


            transactionQuerySnapshot.forEach(doc => {

                const actor = doc.data().customer_id;
                const transactionRefNo = doc.data().id;

                const dateCreated = doc.data().trans_date_created;
                const date = new Date(dateCreated.seconds * 1000);
                const dateCreatedString = date.toLocaleDateString();

                const status = doc.data().status;

                const appId = doc.data().appointment_id;
                const totAmt = doc.data().total_amount;
                const transactionType = doc.data().trans_type;

                appointmentQuerySnapshot.forEach(doc => {

                    if(actor === doc.data().customer_id){
                     
                        seller = doc.data().seller_id;
                        
                    }
                });

                shopQuerySnapshot.forEach(doc => {

                    if(seller === doc.data().breeder){

                        shop_name = doc.data().shopName;

                    }

                });

                const row = table.insertRow();

                const actorCell = row.insertCell();
                actorCell.innerText = actor;

                const transRefNoCell = row.insertCell();
                transRefNoCell.innerText = transactionRefNo;

                const shopCell = row.insertCell();
                shopCell.innerText = shop_name;

                const statusCell = row.insertCell();
                statusCell.innerText = status;

                const actionCell = row.insertCell();

                const editButton = document.createElement("button");
                editButton.className = "editBtn";
                editButton.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
                editButton.style.marginRight = "5px";

                editButton.onclick = async function() {
                    modal.style.display = "block";

                    transactionRefLabel.innerText = transactionRefNo;
                    appointmentIdLabel.innerText = appId;
                    TransActorLabel.innerText = actor;
                    transDateCreated.innerText = dateCreatedString;
                    transTotalAmount.innerText = totAmt;
                    transType.innerText = transactionType;
                    // transRoleType.innerText = birthday;
                    transStatus.innerText = status;
                    
                }
                
                span.onclick = function() {
                  modal.style.display = "none";
                }

                transactionCloseBtn.onclick = function() {
                    modal.style.display = "none";
                }

                actionCell.appendChild(editButton);

                const deleteButton = document.createElement("button");
                deleteButton.className = "deleteBtn";
                deleteButton.innerHTML = '<i class="fa-regular fa-trash-can"></i>';
                
                deleteButton.onclick = async function() {
                  try {
                    window.confirm("Are you sure you want to delete this document?");
                    if(confirm == true)
                    {
                        await deleteDoc(doc.ref);
                        window.alert("Document successfully deleted!");
                        const row = deleteButton.closest("tr");
                        row.remove();
                    }
                  } catch (error) {
                    console.error("Error removing document: ", error);
                  }
                };

                actionCell.appendChild(deleteButton);

            });

            AddAllItemsToTable(data);

        }

        // Search function for Transaction page

        let searchTransactionBtn = document.getElementById("searchTransactionBtn");
        let searchTransInput = document.getElementById("searchTransaction");

        searchTransactionBtn.addEventListener("click", searchTransaction);
        searchTransInput.addEventListener("input", searchTransactionInput);

        
        function searchTransaction() {
          // Get the input value
          var input = searchTransInput.value.toLowerCase();
        
          // Get the table rows
          var table = document.getElementById("transactionTableBody");
          var rows = table.getElementsByTagName("tr");
        
          // Loop through all the rows and hide those that don't match the search query
          for (var i = 0; i < rows.length; i++) {
            var cells = rows[i].getElementsByTagName("td");
            var match = false;
            for (var j = 0; j < cells.length; j++) {
              var cellText = cells[j].innerText.toLowerCase();
              if (cellText.indexOf(input) > -1) {
                match = true;
                break;
              }
            }
            if (match) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        }

        function searchTransactionInput() {
          // Reset the table when input is erased
          if (searchTransInput.value === "") {
            var table = document.getElementById("transactionTableBody");
            var rows = table.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++) {
              rows[i].style.display = "";
            }
          }
        }

        // ---- function for Question Page ---- //

        async function GetAllQuestionData() {

            const postQuerySnapshot = await getDocs(collection(db,"Post"));
            const commentQuerySnapshot = await getDocs(collection(db,"Comments"));
            const userQuerySnapshot = await getDocs(collection(db,"User"));
            
            var questionCloseBtn = document.getElementById("questionCloseBtn");
            var modal = document.getElementById("questionModal");
            const span = document.getElementById("question-span");

            const table = document.getElementById("questionTableBody");

            var data = [];

            let postId = "";
            let answeredBy = "";

            let authorId = "";
            let author = "";

            let dateAnsweredString = "";

            postQuerySnapshot.forEach(doc => {

                authorId = doc.data().userID;
                const questionTitle = doc.data().title;
                postId = doc.data().postKey;

                const datePosted = doc.data().timeStamp;
                const date = new Date(datePosted.seconds * 1000);
                const datePostedString = date.toLocaleDateString();

                const desc = doc.data().description;

                commentQuerySnapshot.forEach(doc => {

                    if(postId === doc.data().postKey && authorId != doc.data().userID){

                        answeredBy = doc.data().name;
                        const dateAnswered = doc.data().timeStamp;
                        const date = new Date(dateAnswered.seconds * 1000);
                        dateAnsweredString = date.toLocaleDateString();
                    }

                });

                userQuerySnapshot.forEach(doc => {

                    if(authorId === doc.data().idNo){
                        author = [doc.data().firstName, doc.data().middleName, doc.data().lastName].filter(Boolean).join(" ")
                    }

                });

                const row = table.insertRow();

                const authorCell = row.insertCell();
                authorCell.innerText = author;

                const titleCell = row.insertCell();
                titleCell.innerText = questionTitle;

                const answeredByCell = row.insertCell();
                answeredByCell.innerText = answeredBy;

                const datePostedCell = row.insertCell();
                datePostedCell.innerText = datePostedString;

                const actionCell = row.insertCell();

                const editButton = document.createElement("button");
                editButton.className = "editBtn";
                editButton.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
                editButton.style.marginRight = "5px";

                editButton.onclick = async function() {
                    modal.style.display = "block";
                
                    questionTitleLabel.innerText = ' - ' + questionTitle;
                    descLabel.innerText = ' - ' + desc;
                    datePostedLabel.innerText = datePostedString;
                    authorLabel.innerText = author;
                    answeredByLabel.innerText =  answeredByCell.innerText;
                    dateAnsweredLabel.innerText = dateAnsweredString;
                
                }

                span.onclick = function() {
                  modal.style.display = "none";
                }
                
                questionCloseBtn.onclick = function() {
                    modal.style.display = "none";
                }
                
                actionCell.appendChild(editButton);
                
                const deleteButton = document.createElement("button");
                deleteButton.className = "deleteBtn";
                deleteButton.innerHTML = '<i class="fa-regular fa-trash-can"></i>';
                
                deleteButton.onclick = async function() {
                  try {
                    window.confirm("Are you sure you want to delete this document?");
                    if(confirm == true)
                    {
                        await deleteDoc(doc.ref);
                        window.alert("Document successfully deleted!");
                        const row = deleteButton.closest("tr");
                        row.remove();
                    }
                  } catch (error) {
                    console.error("Error removing document: ", error);
                  }
                };

                actionCell.appendChild(deleteButton);

            });

            AddAllItemsToTable(data);

        }

        // Search function for Question Page

        let searchQuestionBtn = document.getElementById("searchQuestionBtn");
        let searchQuestionInput = document.getElementById("searchQuestion");

        searchQuestionBtn.addEventListener("click", searchQuestion);
        searchQuestionInput.addEventListener("input", questionSearchInput);

        
        function searchQuestion() {
          // Get the input value
          var input = searchQuestionInput.value.toLowerCase();
        
          // Get the table rows
          var table = document.getElementById("questionTableBody");
          var rows = table.getElementsByTagName("tr");
        
          // Loop through all the rows and hide those that don't match the search query
          for (var i = 0; i < rows.length; i++) {
            var cells = rows[i].getElementsByTagName("td");
            var match = false;
            for (var j = 0; j < cells.length; j++) {
              var cellText = cells[j].innerText.toLowerCase();
              if (cellText.indexOf(input) > -1) {
                match = true;
                break;
              }
            }
            if (match) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        }

        function questionSearchInput() {
          // Reset the table when input is erased
          if (searchQuestionInput.value === "") {
            var table = document.getElementById("questionTableBody");
            var rows = table.getElementsByTagName("tr");
            for (var i = 0; i < rows.length; i++) {
              rows[i].style.display = "";
            }
          }
        }

        window.onload = () => {
            GetAllDataRealtime();
            GetAllTransactionData();
            GetAllShopData();
            GetAllQuestionData();
            GetAllPetData();
        }

          </script>

    </body>

</html>